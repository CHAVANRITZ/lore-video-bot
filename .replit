tags = ["web"]
modules = ["python-3.11"]

run = "python3 main.py"
entrypoint = "main.py"
language = "python3"
onBoot = "python3 main.py"

[env]
PORT = "8080"


[nix]
channel = "stable-24_05"
packages = [
  "ffmpeg",
  "ffmpeg-full",
  "freetype",
  "lcms2",
  "libimagequant",
  "libjpeg",
  "libtiff",
  "libwebp",
  "libxcrypt",
  "openjpeg",
  "tcl",
  "tk",
  "zlib",
  "killall",
  "curl",          # useful for debugging or pinging externally if needed
]

[workflows]
runButton = "Lore Video Bot"

[[workflows.workflow]]
name = "Lore Video Bot"
author = "agent"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "python3 main.py"

[[ports]]
localPort = 8080
externalPort = 80
